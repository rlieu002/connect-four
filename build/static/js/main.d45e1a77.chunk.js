(this["webpackJsonpconnect-four"]=this["webpackJsonpconnect-four"]||[]).push([[0],{11:function(e,n,l){e.exports=l(18)},16:function(e,n,l){},17:function(e,n,l){},18:function(e,n,l){"use strict";l.r(n);var t=l(0),r=l.n(t),a=l(4),o=l.n(a),u=(l(16),l(5)),i=l(6),c=l(9),s=l(7),f=l(1),d=l(10),h=l(2),v=function(e){var n=b(e),l=Object(h.a)(n,2),t=l[0],r=l[1];return!(t<r||t-r>1)&&!p(e)},m=function(e,n,l){var t=e;return!(n<0||n>6)&&(("y"===l||"r"===l)&&(t[w(e,n)][n]=l,t))},g=function(e){for(var n=e.length-1;n>=0;n--)for(var l=0;l<7;l++)if(e[n][l]){if(l<=3&&4===k(e[n],l)[0])return!0;if(n>=3&&x(e,n,l))return!0}return!1},b=function(e){var n=0,l=0;return e.forEach((function(e){e.forEach((function(e){"y"===e?n++:"r"===e&&l++}))})),[n,l]},p=function(e){for(var n=e.length-2;n>=0;n--)for(var l=0;l<7;l++)if(e[n][l]&&!e[n+1][l])return!0;return!1},w=function(e,n){for(var l=e.length-1;l>=0;){if(!e[l][n])return l;l--}},k=function(e,n){for(var l=1,t=n,r=n;r<n+3&&e[r]===e[r+1];r++)l++,t++;return[l,t]},y=function(e,n,l,t){for(var r=1,a=l,o=n;o>n-3;o--)switch(t){case"straight":e[o][l]===e[o-1][l]?r++:r=1;break;case"forward":l<=3&&e[o][a]===e[o-1][a+1]?r++:r=1,a++;break;case"backward":l>=3&&e[o][a]===e[o-1][a-1]?r++:r=1,a--}return[r,a]},x=function(e,n,l){return 4===y(e,n,l,"straight")[0]||(4===y(e,n,l,"forward")[0]||4===y(e,n,l,"backward")[0])},E=function(e,n,l){var t,r=null;t="defense"===l?"y"===n?"r":"y":n;e:for(var a=e.length-1;a>=0;a--)for(var o=0;o<7;o++)if(e[a][o]===t){var u=k(e[a],o),i=Object(h.a)(u,2),c=i[0],s=i[1];if(s<=5&&c>=2){console.log("connected row:",c,"row:",a,"column:",o);for(var f=!1,d=a+1;d<e.length;d++)e[d][s+1]||(f=!0);if(!e[a][s+1]&&!f){r=s+1;break e}if(o>0&&!e[a][o-1]){r=o-1;break e}}else if(a>=3){var v=y(e,a,o,"straight")[0];console.log("connected column straight:",v,"row:",a,"column:",o);var m=y(e,a,o,"forward"),g=Object(h.a)(m,2),b=g[0],p=g[1];console.log("connected column forward:",b,"row:",a,"column:",o);var w=y(e,a,o,"backward")[0];if(console.log("connected column backward:",w,"row:",a,"column:",o),v>=3){r=o;break e}if(b>=3&&a[p+1]){r=p+1;break e}if(w>=3&&a[o-1]){r=o-1;break e}}}return r},C=l(8),j=l.n(C),M=function(e){function n(){var e;return Object(u.a)(this,n),(e=Object(c.a)(this,Object(s.a)(n).call(this))).state={gameState:[[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null]],mode:"1",winner:null},e.onClickMove=e.onClickMove.bind(Object(f.a)(e)),e.onClickRestart=e.onClickRestart.bind(Object(f.a)(e)),e.toggleMode=e.toggleMode.bind(Object(f.a)(e)),e}return Object(d.a)(n,e),Object(i.a)(n,[{key:"renderTable",value:function(){var e=this,n=this.state.gameState.map((function(e){var n=e.map((function(e){var n={};return"y"===e?n=S.yellowPlayer:"r"===e&&(n=S.redPlayer),r.a.createElement("td",{style:S.cell},r.a.createElement("div",{style:n}))}));return r.a.createElement("tr",null,n)})),l=[0,1,2,3,4,5,6].map((function(n){return r.a.createElement("td",{style:S.cell},r.a.createElement("button",{key:n,style:S.moveButton,onClick:e.onClickMove,value:n}))}));return r.a.createElement("table",{border:"1"},n,r.a.createElement("tr",null,l))}},{key:"toggleMode",value:function(e){var n=e.target.value;this.setState({mode:n})}},{key:"onClickMove",value:function(e){var n=this,l=e.target.value,t=this.state,r=t.gameState,a=t.winner,o=t.mode;if(!a){var u=function(e){var n=b(e),l=Object(h.a)(n,2);return l[0]>l[1]?"r":"y"}(r),i=m(r,l,u);v(i)?this.setState({gameState:i},(function(){var e=g(i);e?(e="y"===u?"yellow":"red",n.setState({winner:e})):"1"===o&&n.computerMove()})):console.error("invalid game state")}}},{key:"onClickRestart",value:function(){this.setState({gameState:[[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null]],winner:null})}},{key:"computerMove",value:function(){var e=this,n=this.state.gameState,l=function(e,n){var l=E(e,n,"defense");if(null!==l)return l;var t=E(e,n);return t||Math.floor(6*Math.random())}(n,"r"),t=m(n,l,"r");v(t)?this.setState({gameState:t},(function(){var n=g(t);n&&(n="red",e.setState({winner:n}))})):console.error("invalid game state")}},{key:"render",value:function(){var e=this.state.winner,n="1"===this.state.mode?S.activeButton:S.button,l="2"===this.state.mode?S.activeButton:S.button;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:j.a,className:"App-logo",alt:"logo",width:"100px"}),e&&r.a.createElement("h1",null,e," wins!"),r.a.createElement("div",{style:S.modeContainer},r.a.createElement("button",{style:n,onClick:this.toggleMode,value:"1"},"1 Player"),r.a.createElement("button",{style:l,onClick:this.toggleMode,value:"2"},"2 Players")),this.renderTable(),r.a.createElement("button",{style:S.button,onClick:this.onClickRestart},"Restart")))}}]),n}(t.Component),S={yellowPlayer:{borderRadius:"25px",backgroundColor:"yellow",width:"40px",height:"40px",margin:"auto"},redPlayer:{borderRadius:"25px",backgroundColor:"red",width:"40px",height:"40px",margin:"auto"},cell:{width:"50px",height:"50px"},moveButton:{width:"40px",height:"40px"},button:{width:"120px",height:"40px",margin:"10px",cursor:"pointer"},activeButton:{width:"120px",height:"40px",margin:"10px",cursor:"pointer",backgroundColor:"grey"},modeContainer:{display:"flex",justifyContent:"flex-end"}};l(17);var O=function(){return r.a.createElement(M,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,n,l){e.exports=l.p+"static/media/logo.5d5d9eef.svg"}},[[11,1,2]]]);
//# sourceMappingURL=main.d45e1a77.chunk.js.map