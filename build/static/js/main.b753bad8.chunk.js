(this["webpackJsonpconnect-four"]=this["webpackJsonpconnect-four"]||[]).push([[0],{11:function(e,n,t){e.exports=t(18)},16:function(e,n,t){},17:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var l=t(0),r=t.n(l),a=t(4),o=t.n(a),u=(t(16),t(5)),i=t(6),c=t(9),s=t(7),f=t(1),d=t(10),h=t(2),v=function(e){var n=b(e),t=Object(h.a)(n,2),l=t[0],r=t[1];return!(l<r||l-r>1)&&!p(e)},m=function(e,n,t){var l=e;return!(n<0||n>6)&&(("y"===t||"r"===t)&&(l[w(e,n)][n]=t,l))},g=function(e){for(var n=e.length-1;n>=0;n--)for(var t=0;t<7;t++)if(e[n][t]){if(t<=3&&4===y(e[n],t)[0])return!0;if(n>=3&&x(e,n,t))return!0}return!1},b=function(e){var n=0,t=0;return e.forEach((function(e){e.forEach((function(e){"y"===e?n++:"r"===e&&t++}))})),[n,t]},p=function(e){for(var n=e.length-2;n>=0;n--)for(var t=0;t<7;t++)if(e[n][t]&&!e[n+1][t])return!0;return!1},w=function(e,n){for(var t=e.length-1;t>=0;){if(!e[t][n])return t;t--}},y=function(e,n){for(var t=1,l=n,r=n;r<n+3&&e[r]===e[r+1];r++)t++,l++;return[t,l]},k=function(e,n,t,l){for(var r=1,a=t,o=n;o>n-3;o--)switch(l){case"straight":e[o][t]===e[o-1][t]?r++:r=1;break;case"forward":t<=3&&e[o][a]===e[o-1][a+1]?r++:r=1,a++;break;case"backward":t>=3&&e[o][a]===e[o-1][a-1]?r++:r=1,a--}return[r,a]},x=function(e,n,t){return 4===k(e,n,t,"straight")[0]||(4===k(e,n,t,"forward")[0]||4===k(e,n,t,"backward")[0])},E=function(e,n,t){var l,r=null;l="defense"===t?"y"===n?"r":"y":n;for(var a=e.length-1;a>=0;a--)for(var o=0;o<7;o++)if(e[a][o]===l){var u=y(e[a],o),i=Object(h.a)(u,2),c=i[0],s=i[1];if(s<=5&&c>=2){if(console.log("connected row:",c,"row:",a,"column:",o),e[a][s+1]){if(o>0&&!e[a][o-1]){if(!C(e,a,r=o-1))return r}}else if(!C(e,a,r=s+1))return r}else if(a>=3){var f=k(e,a,o,"straight")[0];console.log("connected column straight:",f,"row:",a,"column:",o);var d=k(e,a,o,"forward"),v=Object(h.a)(d,2),m=v[0],g=v[1];console.log("connected column forward:",m,"row:",a,"column:",o);var b=k(e,a,o,"backward")[0];if(console.log("connected column backward:",b,"row:",a,"column:",o),f>=3)return r=o;if(m>=3&&a[g+1]){if(!C(e,a,r=g+1))return r}else if(b>=3&&a[o-1]){if(!C(e,a,r=o-1))return r}}}return r},C=function(e,n,t){var l=!1;if(n<e.length-1)for(var r=n+1;r<e.length;r++)e[r][t]||(l=!0);return l},j=t(8),M=t.n(j),S=function(e){function n(){var e;return Object(u.a)(this,n),(e=Object(c.a)(this,Object(s.a)(n).call(this))).state={gameState:[[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null]],mode:"1",winner:null},e.onClickMove=e.onClickMove.bind(Object(f.a)(e)),e.onClickRestart=e.onClickRestart.bind(Object(f.a)(e)),e.toggleMode=e.toggleMode.bind(Object(f.a)(e)),e}return Object(d.a)(n,e),Object(i.a)(n,[{key:"renderTable",value:function(){var e=this,n=this.state.gameState.map((function(e){var n=e.map((function(e){var n={};return"y"===e?n=O.yellowPlayer:"r"===e&&(n=O.redPlayer),r.a.createElement("td",{style:O.cell},r.a.createElement("div",{style:n}))}));return r.a.createElement("tr",null,n)})),t=[0,1,2,3,4,5,6].map((function(n){return r.a.createElement("td",{style:O.cell},r.a.createElement("button",{key:n,style:O.moveButton,onClick:e.onClickMove,value:n}))}));return r.a.createElement("table",{border:"1"},n,r.a.createElement("tr",null,t))}},{key:"toggleMode",value:function(e){var n=e.target.value;this.setState({mode:n})}},{key:"onClickMove",value:function(e){var n=this,t=e.target.value,l=this.state,r=l.gameState,a=l.winner,o=l.mode;if(!a){var u=function(e){var n=b(e),t=Object(h.a)(n,2);return t[0]>t[1]?"r":"y"}(r),i=m(r,t,u);v(i)?this.setState({gameState:i},(function(){var e=g(i);e?(e="y"===u?"yellow":"red",n.setState({winner:e})):"1"===o&&n.computerMove()})):console.error("invalid game state")}}},{key:"onClickRestart",value:function(){this.setState({gameState:[[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null],[null,null,null,null,null,null,null]],winner:null})}},{key:"computerMove",value:function(){var e=this,n=this.state.gameState,t=function(e,n){var t=E(e,n,"defense");if(null!==t)return t;var l=E(e,n);return l||Math.floor(6*Math.random())}(n,"r"),l=m(n,t,"r");v(l)?this.setState({gameState:l},(function(){var n=g(l);n&&(n="red",e.setState({winner:n}))})):console.error("invalid game state")}},{key:"render",value:function(){var e=this.state.winner,n="1"===this.state.mode?O.activeButton:O.button,t="2"===this.state.mode?O.activeButton:O.button;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:M.a,className:"App-logo",alt:"logo",width:"100px"}),e&&r.a.createElement("h1",null,e," wins!"),r.a.createElement("div",{style:O.modeContainer},r.a.createElement("button",{style:n,onClick:this.toggleMode,value:"1"},"1 Player"),r.a.createElement("button",{style:t,onClick:this.toggleMode,value:"2"},"2 Players")),this.renderTable(),r.a.createElement("button",{style:O.button,onClick:this.onClickRestart},"Restart")))}}]),n}(l.Component),O={yellowPlayer:{borderRadius:"25px",backgroundColor:"yellow",width:"40px",height:"40px",margin:"auto"},redPlayer:{borderRadius:"25px",backgroundColor:"red",width:"40px",height:"40px",margin:"auto"},cell:{width:"50px",height:"50px"},moveButton:{width:"40px",height:"40px"},button:{width:"120px",height:"40px",margin:"10px",cursor:"pointer"},activeButton:{width:"120px",height:"40px",margin:"10px",cursor:"pointer",backgroundColor:"grey"},modeContainer:{display:"flex",justifyContent:"flex-end"}};t(17);var B=function(){return r.a.createElement(S,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"}},[[11,1,2]]]);
//# sourceMappingURL=main.b753bad8.chunk.js.map